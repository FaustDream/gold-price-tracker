# 黄金价格追踪器 (Gold Price Tracker)

一个极简风格的任务栏悬浮窗小工具，用于实时追踪国内和国际金价。

## ✨ 核心功能

*   **实时数据**：
    *   **国内金价**：直连上海黄金交易所 (Au T+D) 实时行情。
    *   **国际金价**：获取实时伦敦金价格。
    *   **智能更新**：每2秒自动刷新一次。
*   **极简悬浮窗**：
    *   **无边框设计**：完美融入桌面环境。
    *   **透明背景**：默认透明，仅显示价格文字，不遮挡壁纸。
    *   **强制置顶**：顽强地驻留在屏幕最上层，防止被任务栏遮挡。
    *   **位置记忆**：自动保存窗口位置，重启后还原。
*   **个性化定制**：
    *   **外观设置**：可自定义字体颜色、背景颜色（支持透明度）、字体大小。
    *   **智能显隐**：可设置价格范围，仅在价格满足条件时显示。
*   **价格预警**：
    *   支持设置国内/国际金价的高低阈值。
    *   触发预警时弹出桌面通知（含防骚扰冷却机制）。
*   **安全稳定**：
    *   内置崩溃捕获与日志记录系统。
    *   绿色免安装，解压即用。

## � 版本历史

### v1.1.0 (2026-02-26)
*   **优化国内金价更新逻辑**：
    *   新增智能休市判断：在交易所休市时段（如周末、夜间休市时段），自动切换为“伦敦金联动计算模式”。
    *   实时计算：依据实时国际金价和汇率估算国内金价，实现 24 小时价格动态更新。
    *   非休市时段保持官方直连数据，确保交易时段数据的准确性。

## �🚀 快速开始

1.  **运行**：双击 `GoldPriceTracker.exe`。
2.  **移动**：按住鼠标左键拖动窗口至任务栏或其他合适位置。
3.  **右键菜单**：
    *   **开启/关闭智能显隐**：快速切换显隐模式。
    *   **设置**：打开详细配置面板。
    *   **锁定位置**：防止误触拖动。
    *   **退出**：关闭程序。

## ⚙️ 常见问题 (FAQ)

**Q: 软件为什么有时会被任务栏挡住？**
A: Windows 任务栏拥有极高的窗口层级。虽然本软件已开启“强制置顶”策略（每2秒自动置顶），但在您点击任务栏或其他全屏应用时，操作系统可能会暂时提升任务栏的层级。只需稍等片刻，软件会自动重新浮起。

**Q: 如何完全隐藏背景？**
A: 在“设置”中，将“背景颜色”设置为完全透明（Alpha通道为0），或使用默认的 1% 透明度（推荐，方便右键点击）。

**Q: 遇到闪退怎么办？**
A: 程序目录下会生成 `gold_price_tracker.log` 文件，请查看其中的报错信息反馈给开发者。

## 🛠️ 技术栈

*   **语言**: Java 17
*   **UI 框架**: JavaFX 21
*   **网络库**: OkHttp 4
*   **构建工具**: Maven
*   **打包工具**: jpackage (生成原生 EXE)

## 📝 开发者指南

### 环境要求
*   JDK 17+
*   Maven 3.8+

### 构建命令
```bash
# 编译并打包 JAR
mvn clean package

# 生成 EXE 安装包 (需配置 jpackage 环境)
jpackage ...
```

### 目录结构
*   `src/main/java`: 源代码
*   `src/main/resources`: FXML 布局与资源
*   `src/test`: 单元测试
